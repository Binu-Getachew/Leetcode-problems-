def all_fruits(fruits):
    position=[]
    amount=[]
    all_pos=[]
    all_amount=[]
    for i,j in fruits:
        position.append(i)
        amount.append(j)
        
    max_pos = max(position)
    k = 0
    
    while k <= max_pos:
        all_pos.append(k)
        if k in position:
            idx=position.index(k)
            all_amount.append(amount[idx])
            
        else:
            all_amount.append(0)    

        k+=1    
    return all_pos,all_amount
      

def collect(startpos,k,fruits):
    fruit_sum=0
    steps_left=k
    positions,fruits_values=all_fruits(fruits)
    max_position = positions[-1]
    if startpos>max_position:
        return 0
    max_fruits=0
    for left in range(max(0, startpos - k), startpos + 1):
        right = min(max_position, startpos + (k - 2 * (startpos - left)))
        total = sum(fruits_values[left:right + 1])
        max_fruits = max(max_fruits, total)

    for right in range(startpos, min(max_position, startpos + k) + 1):
        left = max(0, startpos - (k - 2 * (right - startpos)))
        total = sum(fruits_values[left:right + 1])
        max_fruits = max(max_fruits, total)
            
        
    return max_fruits

    
fruits = [[0,9],[4,1],[5,7],[6,2],[7,4],[10,9]]
print(collect(4,4,fruits))

            
    
